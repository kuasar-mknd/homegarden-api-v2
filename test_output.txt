
> homegarden-api@2.0.0 test /app
> vitest --no-file-parallelism


[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90m/app[39m

[90mstdout[2m | tests/auth.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

[90mstdout[2m | tests/auth.test.ts[2m > [22m[2mAuth Middleware Integration[2m > [22m[2mshould allow access with valid token and sync user to DB
[22m[39mprisma:error
Invalid `prisma.user.findUnique()` invocation:




 [31mâ¯[39m tests/auth.test.ts [2m([22m[2m4 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 133[2mms[22m[39m
     [32mâœ“[39m should allow access to public routes without token[32m 20[2mms[22m[39m
     [32mâœ“[39m should block access to protected routes without token[32m 4[2mms[22m[39m
     [32mâœ“[39m should block access with invalid token[32m 2[2mms[22m[39m
[31m     [31mÃ—[31m should allow access with valid token and sync user to DB[39m[32m 103[2mms[22m[39m
[90mstdout[2m | tests/smoke.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/smoke.test.ts[2m > [22m[2mSmoke Test
[22m[39mprisma:error
Invalid `prisma.careCompletion.deleteMany()` invocation:




[90mstderr[2m | tests/smoke.test.ts[2m > [22m[2mSmoke Test
[22m[39mReset DB Error: PrismaClientKnownRequestError:
Invalid `prisma.careCompletion.deleteMany()` invocation:



    at qr.handleRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:8172[90m)[39m
    at qr.handleAndLogRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7467[90m)[39m
    at qr.request [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7174[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at a [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:75:5816[90m)[39m
    at resetDb [90m(/app/[39mtests/helpers/reset-db.ts:5:5[90m)[39m
    at [90m/app/[39mtests/smoke.test.ts:6:5 {
  code: [32m'ECONNREFUSED'[39m,
  meta: { modelName: [32m'CareCompletion'[39m },
  clientVersion: [32m'7.2.0'[39m
}

 [31mâ¯[39m tests/smoke.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 89[2mms[22m[39m
     [2m[90mâ†“[39m[22m should be true
[90mstdout[2m | tests/e2e/auth.e2e.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/e2e/auth.e2e.test.ts[2m > [22m[2mE2E: Authentication Flow
[22m[39mprisma:error
Invalid `prisma.careCompletion.deleteMany()` invocation:




[90mstderr[2m | tests/e2e/auth.e2e.test.ts[2m > [22m[2mE2E: Authentication Flow
[22m[39mReset DB Error: PrismaClientKnownRequestError:
Invalid `prisma.careCompletion.deleteMany()` invocation:



    at qr.handleRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:8172[90m)[39m
    at qr.handleAndLogRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7467[90m)[39m
    at qr.request [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7174[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at a [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:75:5816[90m)[39m
    at Module.resetDb [90m(/app/[39mtests/helpers/reset-db.ts:5:5[90m)[39m
    at [90m/app/[39mtests/e2e/auth.e2e.test.ts:25:5 {
  code: [32m'ECONNREFUSED'[39m,
  meta: { modelName: [32m'CareCompletion'[39m },
  clientVersion: [32m'7.2.0'[39m
}

 [31mâ¯[39m tests/e2e/auth.e2e.test.ts [2m([22m[2m7 tests[22m[2m | [22m[33m7 skipped[39m[2m)[22m[32m 96[2mms[22m[39m
       [2m[90mâ†“[39m[22m should allow access to public routes without token
       [2m[90mâ†“[39m[22m should allow access to API info without token
       [2m[90mâ†“[39m[22m should allow access to OpenAPI spec without token
       [2m[90mâ†“[39m[22m should block access to protected routes without token
       [2m[90mâ†“[39m[22m should block access with invalid token
       [2m[90mâ†“[39m[22m should allow access with valid token
       [2m[90mâ†“[39m[22m should sync new Supabase user to local DB
[90mstdout[2m | tests/e2e/garden.e2e.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ” encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/e2e/garden.e2e.test.ts[2m > [22m[2mE2E: Garden Management
[22m[39mprisma:error
Invalid `prisma.careCompletion.deleteMany()` invocation:




[90mstderr[2m | tests/e2e/garden.e2e.test.ts[2m > [22m[2mE2E: Garden Management
[22m[39mReset DB Error: PrismaClientKnownRequestError:
Invalid `prisma.careCompletion.deleteMany()` invocation:



    at qr.handleRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:8172[90m)[39m
    at qr.handleAndLogRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7467[90m)[39m
    at qr.request [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7174[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at a [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:75:5816[90m)[39m
    at Module.resetDb [90m(/app/[39mtests/helpers/reset-db.ts:5:5[90m)[39m
    at [90m/app/[39mtests/e2e/garden.e2e.test.ts:41:5 {
  code: [32m'ECONNREFUSED'[39m,
  meta: { modelName: [32m'CareCompletion'[39m },
  clientVersion: [32m'7.2.0'[39m
}

 [31mâ¯[39m tests/e2e/garden.e2e.test.ts [2m([22m[2m7 tests[22m[2m | [22m[33m7 skipped[39m[2m)[22m[32m 88[2mms[22m[39m
       [2m[90mâ†“[39m[22m should return empty plants list for user
       [2m[90mâ†“[39m[22m should find nearby gardens
       [2m[90mâ†“[39m[22m should return 400 for missing coordinates
       [2m[90mâ†“[39m[22m should return weather for garden location
       [2m[90mâ†“[39m[22m should return 404 for non-existent garden
       [2m[90mâ†“[39m[22m should add a plant to garden
       [2m[90mâ†“[39m[22m should return 404 for non-existent garden
[90mstdout[2m | tests/e2e/health.e2e.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/e2e/health.e2e.test.ts[2m > [22m[2mE2E: Health & Landing Page
[22m[39mprisma:error
Invalid `prisma.careCompletion.deleteMany()` invocation:




[90mstderr[2m | tests/e2e/health.e2e.test.ts[2m > [22m[2mE2E: Health & Landing Page
[22m[39mReset DB Error: PrismaClientKnownRequestError:
Invalid `prisma.careCompletion.deleteMany()` invocation:



    at qr.handleRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:8172[90m)[39m
    at qr.handleAndLogRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7467[90m)[39m
    at qr.request [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7174[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at a [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:75:5816[90m)[39m
    at Module.resetDb [90m(/app/[39mtests/helpers/reset-db.ts:5:5[90m)[39m
    at [90m/app/[39mtests/e2e/health.e2e.test.ts:21:5 {
  code: [32m'ECONNREFUSED'[39m,
  meta: { modelName: [32m'CareCompletion'[39m },
  clientVersion: [32m'7.2.0'[39m
}

 [31mâ¯[39m tests/e2e/health.e2e.test.ts [2m([22m[2m5 tests[22m[2m | [22m[33m5 skipped[39m[2m)[22m[32m 83[2mms[22m[39m
       [2m[90mâ†“[39m[22m should return HTML landing page on GET /
       [2m[90mâ†“[39m[22m should return API info on GET /api/v2
       [2m[90mâ†“[39m[22m should return OpenAPI spec on GET /doc
       [2m[90mâ†“[39m[22m should return Swagger UI on GET /ui
       [2m[90mâ†“[39m[22m should include CORS headers
[90mstdout[2m | tests/integration/dr-plant.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ—‚ï¸ backup and recover secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/dr-plant.test.ts[2m > [22m[2mDr. Plant Integration[2m > [22m[2mshould diagnose a plant successfully from image
[22m[39mprisma:error
Invalid `prisma.user.findUnique()` invocation:




[90mstdout[2m | tests/integration/dr-plant.test.ts[2m > [22m[2mDr. Plant Integration[2m > [22m[2mshould return 400 if image is missing
[22m[39mprisma:error
Invalid `prisma.user.findUnique()` invocation:




[90mstdout[2m | tests/integration/dr-plant.test.ts[2m > [22m[2mDr. Plant Integration[2m > [22m[2mshould return 400 if file type is invalid
[22m[39mprisma:error
Invalid `prisma.user.findUnique()` invocation:




[90mstdout[2m | tests/integration/dr-plant.test.ts[2m > [22m[2mDr. Plant Integration[2m > [22m[2mshould handle AI service errors gracefully
[22m[39mprisma:error
Invalid `prisma.user.findUnique()` invocation:




 [31mâ¯[39m tests/integration/dr-plant.test.ts [2m([22m[2m4 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[32m 144[2mms[22m[39m
[31m     [31mÃ—[31m should diagnose a plant successfully from image[39m[32m 118[2mms[22m[39m
[31m     [31mÃ—[31m should return 400 if image is missing[39m[32m 7[2mms[22m[39m
[31m     [31mÃ—[31m should return 400 if file type is invalid[39m[32m 7[2mms[22m[39m
[31m     [31mÃ—[31m should handle AI service errors gracefully[39m[32m 10[2mms[22m[39m
[90mstdout[2m | tests/integration/garden.routes.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ”„ add secrets lifecycle management: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/garden.routes.test.ts[2m > [22m[2mGarden Routes Integration
[22m[39mprisma:error
Invalid `prisma.careCompletion.deleteMany()` invocation:




[90mstderr[2m | tests/integration/garden.routes.test.ts[2m > [22m[2mGarden Routes Integration
[22m[39mReset DB Error: PrismaClientKnownRequestError:
Invalid `prisma.careCompletion.deleteMany()` invocation:



    at qr.handleRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:8172[90m)[39m
    at qr.handleAndLogRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7467[90m)[39m
    at qr.request [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7174[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at a [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:75:5816[90m)[39m
    at Module.resetDb [90m(/app/[39mtests/helpers/reset-db.ts:5:5[90m)[39m
    at [90m/app/[39mtests/integration/garden.routes.test.ts:24:5 {
  code: [32m'ECONNREFUSED'[39m,
  meta: { modelName: [32m'CareCompletion'[39m },
  clientVersion: [32m'7.2.0'[39m
}

 [31mâ¯[39m tests/integration/garden.routes.test.ts [2m([22m[2m3 tests[22m[2m | [22m[33m3 skipped[39m[2m)[22m[32m 86[2mms[22m[39m
     [2m[90mâ†“[39m[22m should return empty list initially
     [2m[90mâ†“[39m[22m should add a new plant
     [2m[90mâ†“[39m[22m should retrieve the added plant
[90mstdout[2m | tests/integration/nearby-gardens.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

[90mstdout[2m | tests/integration/nearby-gardens.test.ts[2m > [22m[2mNearby Gardens Integration
[22m[39mprisma:error
Invalid `prisma.careCompletion.deleteMany()` invocation:




[90mstderr[2m | tests/integration/nearby-gardens.test.ts[2m > [22m[2mNearby Gardens Integration
[22m[39mReset DB Error: PrismaClientKnownRequestError:
Invalid `prisma.careCompletion.deleteMany()` invocation:



    at qr.handleRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:8172[90m)[39m
    at qr.handleAndLogRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7467[90m)[39m
    at qr.request [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7174[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at a [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:75:5816[90m)[39m
    at Module.resetDb [90m(/app/[39mtests/helpers/reset-db.ts:5:5[90m)[39m
    at [90m/app/[39mtests/integration/nearby-gardens.test.ts:20:5 {
  code: [32m'ECONNREFUSED'[39m,
  meta: { modelName: [32m'CareCompletion'[39m },
  clientVersion: [32m'7.2.0'[39m
}

 [31mâ¯[39m tests/integration/nearby-gardens.test.ts [2m([22m[2m3 tests[22m[2m | [22m[33m3 skipped[39m[2m)[22m[32m 88[2mms[22m[39m
     [2m[90mâ†“[39m[22m should return gardens within default radius (10km)
     [2m[90mâ†“[39m[22m should return gardens within expanded radius (30km)
     [2m[90mâ†“[39m[22m should validate input parameters
[90mstdout[2m | tests/integration/plant.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }

[90mstdout[2m | tests/integration/plant.test.ts[2m > [22m[2mPlant Integration Routes
[22m[39mprisma:error
Invalid `prisma.careCompletion.deleteMany()` invocation:




[90mstderr[2m | tests/integration/plant.test.ts[2m > [22m[2mPlant Integration Routes
[22m[39mReset DB Error: PrismaClientKnownRequestError:
Invalid `prisma.careCompletion.deleteMany()` invocation:



    at qr.handleRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:8172[90m)[39m
    at qr.handleAndLogRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7467[90m)[39m
    at qr.request [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7174[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at a [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:75:5816[90m)[39m
    at Module.resetDb [90m(/app/[39mtests/helpers/reset-db.ts:5:5[90m)[39m
    at [90m/app/[39mtests/integration/plant.test.ts:21:5 {
  code: [32m'ECONNREFUSED'[39m,
  meta: { modelName: [32m'CareCompletion'[39m },
  clientVersion: [32m'7.2.0'[39m
}

 [31mâ¯[39m tests/integration/plant.test.ts [2m([22m[2m4 tests[22m[2m | [22m[33m4 skipped[39m[2m)[22m[32m 87[2mms[22m[39m
     [2m[90mâ†“[39m[22m should create a new plant
     [2m[90mâ†“[39m[22m should list user plants
     [2m[90mâ†“[39m[22m should return 401 for unauthorized access to create plant
     [2m[90mâ†“[39m[22m should return 401 for unauthorized access to list plants
[90mstdout[2m | tests/integration/user-profile.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ” prevent committing .env to code: https://dotenvx.com/precommit

[90mstdout[2m | tests/integration/user-profile.test.ts[2m > [22m[2mUser Public Profile Integration
[22m[39mprisma:error
Invalid `prisma.careCompletion.deleteMany()` invocation:




[90mstderr[2m | tests/integration/user-profile.test.ts[2m > [22m[2mUser Public Profile Integration
[22m[39mReset DB Error: PrismaClientKnownRequestError:
Invalid `prisma.careCompletion.deleteMany()` invocation:



    at qr.handleRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:8172[90m)[39m
    at qr.handleAndLogRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7467[90m)[39m
    at qr.request [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7174[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at a [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:75:5816[90m)[39m
    at Module.resetDb [90m(/app/[39mtests/helpers/reset-db.ts:5:5[90m)[39m
    at [90m/app/[39mtests/integration/user-profile.test.ts:21:5 {
  code: [32m'ECONNREFUSED'[39m,
  meta: { modelName: [32m'CareCompletion'[39m },
  clientVersion: [32m'7.2.0'[39m
}

 [31mâ¯[39m tests/integration/user-profile.test.ts [2m([22m[2m3 tests[22m[2m | [22m[33m3 skipped[39m[2m)[22m[32m 87[2mms[22m[39m
     [2m[90mâ†“[39m[22m should return public profile for existing user
     [2m[90mâ†“[39m[22m should return 404 for non-existent user
     [2m[90mâ†“[39m[22m should return 401 if not authenticated
[90mstdout[2m | tests/integration/weather.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ“¡ add observability to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/weather.test.ts[2m > [22m[2mWeather Integration
[22m[39mprisma:error
Invalid `prisma.careCompletion.deleteMany()` invocation:




[90mstderr[2m | tests/integration/weather.test.ts[2m > [22m[2mWeather Integration
[22m[39mReset DB Error: PrismaClientKnownRequestError:
Invalid `prisma.careCompletion.deleteMany()` invocation:



    at qr.handleRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:8172[90m)[39m
    at qr.handleAndLogRequestError [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7467[90m)[39m
    at qr.request [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:65:7174[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at a [90m(/app/[39mnode_modules/[4m.pnpm[24m/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/[4m@prisma/client[24m/runtime/client.js:75:5816[90m)[39m
    at Module.resetDb [90m(/app/[39mtests/helpers/reset-db.ts:5:5[90m)[39m
    at [90m/app/[39mtests/integration/weather.test.ts:21:5 {
  code: [32m'ECONNREFUSED'[39m,
  meta: { modelName: [32m'CareCompletion'[39m },
  clientVersion: [32m'7.2.0'[39m
}

 [31mâ¯[39m tests/integration/weather.test.ts [2m([22m[2m3 tests[22m[2m | [22m[33m3 skipped[39m[2m)[22m[32m 88[2mms[22m[39m
     [2m[90mâ†“[39m[22m should return 401 if not authenticated
     [2m[90mâ†“[39m[22m should return weather data for valid garden
     [2m[90mâ†“[39m[22m should return 400 for invalid garden ID format
[90mstdout[2m | tests/repositories/garden-prisma.repository.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/repositories/garden-prisma.repository.test.ts[2m > [22m[2mGardenPrismaRepository[2m > [22m[2mshould create and find a garden
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/garden-prisma.repository.test.ts[2m > [22m[2mGardenPrismaRepository[2m > [22m[2mshould find gardens by user ID
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/garden-prisma.repository.test.ts[2m > [22m[2mGardenPrismaRepository[2m > [22m[2mshould update a garden
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/garden-prisma.repository.test.ts[2m > [22m[2mGardenPrismaRepository[2m > [22m[2mshould delete a garden
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/garden-prisma.repository.test.ts[2m > [22m[2mGardenPrismaRepository[2m > [22m[2mshould find by user and name
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/garden-prisma.repository.test.ts[2m > [22m[2mGardenPrismaRepository[2m > [22m[2mshould find all with pagination
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/garden-prisma.repository.test.ts[2m > [22m[2mGardenPrismaRepository[2m > [22m[2mshould find nearby gardens
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/garden-prisma.repository.test.ts[2m > [22m[2mGardenPrismaRepository[2m > [22m[2mshould return empty array for nearby search when error occurs
[22m[39mprisma:error
Invalid `prisma.$queryRaw()` invocation:




 [31mâ¯[39m tests/repositories/garden-prisma.repository.test.ts [2m([22m[2m8 tests[22m[2m | [22m[31m7 failed[39m[2m)[22m[32m 135[2mms[22m[39m
[31m     [31mÃ—[31m should create and find a garden[39m[32m 98[2mms[22m[39m
[31m     [31mÃ—[31m should find gardens by user ID[39m[32m 5[2mms[22m[39m
[31m     [31mÃ—[31m should update a garden[39m[32m 5[2mms[22m[39m
[31m     [31mÃ—[31m should delete a garden[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should find by user and name[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should find all with pagination[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should find nearby gardens[39m[32m 4[2mms[22m[39m
     [32mâœ“[39m should return empty array for nearby search when error occurs[32m 6[2mms[22m[39m
[90mstdout[2m | tests/repositories/plant-prisma.repository.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops

[90mstdout[2m | tests/repositories/plant-prisma.repository.test.ts[2m > [22m[2mPlantPrismaRepository[2m > [22m[2mshould create and find a plant
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/plant-prisma.repository.test.ts[2m > [22m[2mPlantPrismaRepository[2m > [22m[2mshould find plants by garden ID
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/plant-prisma.repository.test.ts[2m > [22m[2mPlantPrismaRepository[2m > [22m[2mshould find plants by user ID
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/plant-prisma.repository.test.ts[2m > [22m[2mPlantPrismaRepository[2m > [22m[2mshould update a plant
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/plant-prisma.repository.test.ts[2m > [22m[2mPlantPrismaRepository[2m > [22m[2mshould delete a plant
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/plant-prisma.repository.test.ts[2m > [22m[2mPlantPrismaRepository[2m > [22m[2mshould delete plants by garden ID
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/plant-prisma.repository.test.ts[2m > [22m[2mPlantPrismaRepository[2m > [22m[2mshould find all with pagination and filters
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/plant-prisma.repository.test.ts[2m > [22m[2mPlantPrismaRepository[2m > [22m[2mshould count by garden ID
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/plant-prisma.repository.test.ts[2m > [22m[2mPlantPrismaRepository[2m > [22m[2mshould aggregate by common name
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




 [31mâ¯[39m tests/repositories/plant-prisma.repository.test.ts [2m([22m[2m9 tests[22m[2m | [22m[31m9 failed[39m[2m)[22m[32m 141[2mms[22m[39m
[31m     [31mÃ—[31m should create and find a plant[39m[32m 98[2mms[22m[39m
[31m     [31mÃ—[31m should find plants by garden ID[39m[32m 9[2mms[22m[39m
[31m     [31mÃ—[31m should find plants by user ID[39m[32m 5[2mms[22m[39m
[31m     [31mÃ—[31m should update a plant[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should delete a plant[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should delete plants by garden ID[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should find all with pagination and filters[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should count by garden ID[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should aggregate by common name[39m[32m 6[2mms[22m[39m
[90mstdout[2m | tests/repositories/user-prisma.repository.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

[90mstdout[2m | tests/repositories/user-prisma.repository.test.ts[2m > [22m[2mUserPrismaRepository[2m > [22m[2mshould create and find a user by ID
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/user-prisma.repository.test.ts[2m > [22m[2mUserPrismaRepository[2m > [22m[2mshould find a user by email
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/user-prisma.repository.test.ts[2m > [22m[2mUserPrismaRepository[2m > [22m[2mshould find a user with password by ID
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/user-prisma.repository.test.ts[2m > [22m[2mUserPrismaRepository[2m > [22m[2mshould find a user with password by email
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/user-prisma.repository.test.ts[2m > [22m[2mUserPrismaRepository[2m > [22m[2mshould create and find a user
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/user-prisma.repository.test.ts[2m > [22m[2mUserPrismaRepository[2m > [22m[2mshould find by email
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/user-prisma.repository.test.ts[2m > [22m[2mUserPrismaRepository[2m > [22m[2mshould update a user
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/user-prisma.repository.test.ts[2m > [22m[2mUserPrismaRepository[2m > [22m[2mshould delete a user
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/user-prisma.repository.test.ts[2m > [22m[2mUserPrismaRepository[2m > [22m[2mshould check if user exists by email
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/user-prisma.repository.test.ts[2m > [22m[2mUserPrismaRepository[2m > [22m[2mshould find all with pagination
[22m[39mprisma:error
Invalid `prisma.user.create()` invocation:




[90mstdout[2m | tests/repositories/user-prisma.repository.test.ts[2m > [22m[2mUserPrismaRepository[2m > [22m[2mshould return null for non-existent users
[22m[39mprisma:error
Invalid `prisma.user.findUnique()` invocation:




 [31mâ¯[39m tests/repositories/user-prisma.repository.test.ts [2m([22m[2m11 tests[22m[2m | [22m[31m11 failed[39m[2m)[22m[32m 156[2mms[22m[39m
[31m     [31mÃ—[31m should create and find a user by ID[39m[32m 98[2mms[22m[39m
[31m     [31mÃ—[31m should find a user by email[39m[32m 6[2mms[22m[39m
[31m     [31mÃ—[31m should find a user with password by ID[39m[32m 7[2mms[22m[39m
[31m     [31mÃ—[31m should find a user with password by email[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should create and find a user[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should find by email[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should update a user[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should delete a user[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should check if user exists by email[39m[32m 5[2mms[22m[39m
[31m     [31mÃ—[31m should find all with pagination[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should return null for non-existent users[39m[32m 10[2mms[22m[39m
[90mstdout[2m | tests/domain/services/password.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ”„ add secrets lifecycle management: https://dotenvx.com/ops

 [32mâœ“[39m tests/domain/services/password.service.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 516[2mms[22m[39m
[90mstdout[2m | infrastructure/http/routes/plant-id.routes.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

 [32mâœ“[39m infrastructure/http/routes/plant-id.routes.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 145[2mms[22m[39m
[90mstdout[2m | tests/websocket/weather.handler.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }

 [32mâœ“[39m tests/websocket/weather.handler.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 32[2mms[22m[39m
[90mstdout[2m | tests/integration/dr-plant.integration.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

 [32mâœ“[39m tests/integration/dr-plant.integration.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 57[2mms[22m[39m
[90mstdout[2m | tests/middleware/compression.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ“¡ add observability to secrets: https://dotenvx.com/ops

 [32mâœ“[39m tests/middleware/compression.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 44[2mms[22m[39m
[90mstdout[2m | tests/websocket/care-reminder.handler.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }

 [32mâœ“[39m tests/websocket/care-reminder.handler.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 27[2mms[22m[39m
[90mstdout[2m | tests/middleware/auth.middleware.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

{"level":40,"time":1766354693000,"err":{"type":"Object","message":"Invalid token","stack":""},"msg":"Auth failed"}
{"level":30,"time":1766354693006,"userId":"new-db-id","msg":"Synced new user"}
{"level":30,"time":1766354693009,"userId":"id","msg":"Synced new user"}
{"level":50,"time":1766354693010,"err":{"type":"Error","message":"Supabase URL or Publishable Key not configured","stack":"Error: Supabase URL or Publishable Key not configured\n    at getSupabase (/app/infrastructure/http/middleware/auth.middleware.ts:11:11)\n    at Module.<anonymous> (/app/infrastructure/http/middleware/auth.middleware.ts:38:22)\n    at /app/tests/middleware/auth.middleware.test.ts:147:27\n    at file:///app/node_modules/.pnpm/@vitest+runner@4.0.16/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///app/node_modules/.pnpm/@vitest+runner@4.0.16/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///app/node_modules/.pnpm/@vitest+runner@4.0.16/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///app/node_modules/.pnpm/@vitest+runner@4.0.16/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///app/node_modules/.pnpm/@vitest+runner@4.0.16/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///app/node_modules/.pnpm/vitest@4.0.16_@types+node@25.0.3_jiti@2.6.1_tsx@4.21.0_yaml@2.8.2/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)"},"msg":"AuthMiddleware Error"}
 [32mâœ“[39m tests/middleware/auth.middleware.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 21[2mms[22m[39m
[90mstdout[2m | tests/adapters/gemini-plant.adapter.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

 [32mâœ“[39m tests/adapters/gemini-plant.adapter.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 19[2mms[22m[39m
[90mstdout[2m | tests/middleware/rate-limit.middleware.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }

 [32mâœ“[39m tests/middleware/rate-limit.middleware.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 12[2mms[22m[39m
[90mstdout[2m | tests/controllers/garden.controller.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ” prevent building .env in docker: https://dotenvx.com/prebuild

 [32mâœ“[39m tests/controllers/garden.controller.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 19[2mms[22m[39m
[90mstdout[2m | tests/application/services/TokenService.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ—‚ï¸ backup and recover secrets: https://dotenvx.com/ops

 [32mâœ“[39m tests/application/services/TokenService.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 16[2mms[22m[39m
[90mstdout[2m | tests/controllers/plant-id.controller.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ”‘ add access controls to secrets: https://dotenvx.com/ops

 [32mâœ“[39m tests/controllers/plant-id.controller.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 18[2mms[22m[39m
[90mstdout[2m | tests/controllers/dr-plant.controller.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }

 [32mâœ“[39m tests/controllers/dr-plant.controller.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 15[2mms[22m[39m
[90mstdout[2m | tests/use-cases/identify-species.use-case.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }

 [32mâœ“[39m tests/use-cases/identify-species.use-case.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 13[2mms[22m[39m
[90mstdout[2m | tests/adapters/open-meteo.adapter.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ” prevent committing .env to code: https://dotenvx.com/precommit

 [32mâœ“[39m tests/adapters/open-meteo.adapter.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 14[2mms[22m[39m
[90mstdout[2m | tests/use-cases/add-plant.use-case.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ” prevent committing .env to code: https://dotenvx.com/precommit

 [32mâœ“[39m tests/use-cases/add-plant.use-case.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 12[2mms[22m[39m
[90mstdout[2m | tests/use-cases/find-nearby-gardens.use-case.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ“¡ add observability to secrets: https://dotenvx.com/ops

 [32mâœ“[39m tests/use-cases/find-nearby-gardens.use-case.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 11[2mms[22m[39m
[90mstdout[2m | tests/domain/plant.entity.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ” prevent committing .env to code: https://dotenvx.com/precommit

 [32mâœ“[39m tests/domain/plant.entity.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 10[2mms[22m[39m
[90mstdout[2m | tests/use-cases/diagnose-plant.use-case.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ” prevent building .env in docker: https://dotenvx.com/prebuild

 [32mâœ“[39m tests/use-cases/diagnose-plant.use-case.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 9[2mms[22m[39m
[90mstdout[2m | tests/domain/garden.entity.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

 [32mâœ“[39m tests/domain/garden.entity.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 8[2mms[22m[39m
[90mstdout[2m | tests/domain/care-schedule.entity.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

 [32mâœ“[39m tests/domain/care-schedule.entity.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 8[2mms[22m[39m
[90mstdout[2m | tests/use-cases/get-user-plants.use-case.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

 [32mâœ“[39m tests/use-cases/get-user-plants.use-case.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 8[2mms[22m[39m
[90mstdout[2m | tests/domain/user.entity.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

 [32mâœ“[39m tests/domain/user.entity.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 9[2mms[22m[39m
[90mstdout[2m | tests/use-cases/get-garden-weather.use-case.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ”„ add secrets lifecycle management: https://dotenvx.com/ops

 [32mâœ“[39m tests/use-cases/get-garden-weather.use-case.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 8[2mms[22m[39m
[90mstdout[2m | tests/domain/diagnosis.entity.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ“¡ add observability to secrets: https://dotenvx.com/ops

 [32mâœ“[39m tests/domain/diagnosis.entity.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 8[2mms[22m[39m
[90mstdout[2m | tests/shared/utils/date.utils.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

 [32mâœ“[39m tests/shared/utils/date.utils.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 7[2mms[22m[39m
[90mstdout[2m | tests/middleware/error-handler.middleware.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }

 [32mâœ“[39m tests/middleware/error-handler.middleware.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 9[2mms[22m[39m
[90mstdout[2m | tests/controllers/user.controller.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops

 [32mâœ“[39m tests/controllers/user.controller.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 8[2mms[22m[39m
[90mstdout[2m | tests/domain/species.entity.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ”„ add secrets lifecycle management: https://dotenvx.com/ops

 [32mâœ“[39m tests/domain/species.entity.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 7[2mms[22m[39m
[90mstdout[2m | tests/shared/utils/geo.utils.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

 [32mâœ“[39m tests/shared/utils/geo.utils.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 7[2mms[22m[39m
[90mstdout[2m | tests/domain/services/authorization.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ” prevent committing .env to code: https://dotenvx.com/precommit

 [32mâœ“[39m tests/domain/services/authorization.service.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 6[2mms[22m[39m
[90mstdout[2m | tests/middleware/validation.middleware.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ”‘ add access controls to secrets: https://dotenvx.com/ops

 [32mâœ“[39m tests/middleware/validation.middleware.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
[90mstdout[2m | tests/repositories/garden-prisma.repository.unit.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }

 [32mâœ“[39m tests/repositories/garden-prisma.repository.unit.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
[90mstdout[2m | tests/domain/value-objects/geo-location.vo.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops

 [32mâœ“[39m tests/domain/value-objects/geo-location.vo.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
[90mstdout[2m | tests/domain/value-objects/email.vo.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

 [32mâœ“[39m tests/domain/value-objects/email.vo.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
[90mstdout[2m | tests/domain/value-objects/password.vo.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }

 [32mâœ“[39m tests/domain/value-objects/password.vo.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
[90mstdout[2m | tests/domain/value-objects/plant-exposure.vo.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }

 [32mâœ“[39m tests/domain/value-objects/plant-exposure.vo.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Suites 9 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m tests/smoke.test.ts[2m > [22mSmoke Test
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.careCompletion.deleteMany()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m resetDb tests/helpers/reset-db.ts:[2m5:5[22m[39m
    [90m  3| [39m[35mexport[39m [35mconst[39m resetDb [33m=[39m [35masync[39m () [33m=>[39m {
    [90m  4| [39m  [35mtry[39m {
    [90m  5| [39m    [35mawait[39m prisma[33m.[39mcareCompletion[33m.[39m[34mdeleteMany[39m()
    [90m   | [39m    [31m^[39m
    [90m  6| [39m    [35mawait[39m prisma[33m.[39mcareSchedule[33m.[39m[34mdeleteMany[39m()
    [90m  7| [39m    [35mawait[39m prisma[33m.[39mdiagnosis[33m.[39m[34mdeleteMany[39m()
[90m [2mâ¯[22m tests/smoke.test.ts:[2m6:5[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/e2e/auth.e2e.test.ts[2m > [22mE2E: Authentication Flow
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.careCompletion.deleteMany()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m Module.resetDb tests/helpers/reset-db.ts:[2m5:5[22m[39m
    [90m  3| [39m[35mexport[39m [35mconst[39m resetDb [33m=[39m [35masync[39m () [33m=>[39m {
    [90m  4| [39m  [35mtry[39m {
    [90m  5| [39m    [35mawait[39m prisma[33m.[39mcareCompletion[33m.[39m[34mdeleteMany[39m()
    [90m   | [39m    [31m^[39m
    [90m  6| [39m    [35mawait[39m prisma[33m.[39mcareSchedule[33m.[39m[34mdeleteMany[39m()
    [90m  7| [39m    [35mawait[39m prisma[33m.[39mdiagnosis[33m.[39m[34mdeleteMany[39m()
[90m [2mâ¯[22m tests/e2e/auth.e2e.test.ts:[2m25:5[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/e2e/auth.e2e.test.ts[2m > [22mE2E: Authentication Flow
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'close')[39m
[36m [2mâ¯[22m tests/e2e/auth.e2e.test.ts:[2m48:12[22m[39m
    [90m 46| [39m
    [90m 47| [39m  [34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 48| [39m    server[33m.[39m[34mclose[39m()
    [90m   | [39m           [31m^[39m
    [90m 49| [39m    [35mawait[39m [34mdisconnectDb[39m()
    [90m 50| [39m  })

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/e2e/garden.e2e.test.ts[2m > [22mE2E: Garden Management
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.careCompletion.deleteMany()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m Module.resetDb tests/helpers/reset-db.ts:[2m5:5[22m[39m
    [90m  3| [39m[35mexport[39m [35mconst[39m resetDb [33m=[39m [35masync[39m () [33m=>[39m {
    [90m  4| [39m  [35mtry[39m {
    [90m  5| [39m    [35mawait[39m prisma[33m.[39mcareCompletion[33m.[39m[34mdeleteMany[39m()
    [90m   | [39m    [31m^[39m
    [90m  6| [39m    [35mawait[39m prisma[33m.[39mcareSchedule[33m.[39m[34mdeleteMany[39m()
    [90m  7| [39m    [35mawait[39m prisma[33m.[39mdiagnosis[33m.[39m[34mdeleteMany[39m()
[90m [2mâ¯[22m tests/e2e/garden.e2e.test.ts:[2m41:5[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/e2e/garden.e2e.test.ts[2m > [22mE2E: Garden Management
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'close')[39m
[36m [2mâ¯[22m tests/e2e/garden.e2e.test.ts:[2m74:12[22m[39m
    [90m 72| [39m
    [90m 73| [39m  [34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 74| [39m    server[33m.[39m[34mclose[39m()
    [90m   | [39m           [31m^[39m
    [90m 75| [39m    [35mawait[39m [34mdisconnectDb[39m()
    [90m 76| [39m  })

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/e2e/health.e2e.test.ts[2m > [22mE2E: Health & Landing Page
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.careCompletion.deleteMany()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m Module.resetDb tests/helpers/reset-db.ts:[2m5:5[22m[39m
    [90m  3| [39m[35mexport[39m [35mconst[39m resetDb [33m=[39m [35masync[39m () [33m=>[39m {
    [90m  4| [39m  [35mtry[39m {
    [90m  5| [39m    [35mawait[39m prisma[33m.[39mcareCompletion[33m.[39m[34mdeleteMany[39m()
    [90m   | [39m    [31m^[39m
    [90m  6| [39m    [35mawait[39m prisma[33m.[39mcareSchedule[33m.[39m[34mdeleteMany[39m()
    [90m  7| [39m    [35mawait[39m prisma[33m.[39mdiagnosis[33m.[39m[34mdeleteMany[39m()
[90m [2mâ¯[22m tests/e2e/health.e2e.test.ts:[2m21:5[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/e2e/health.e2e.test.ts[2m > [22mE2E: Health & Landing Page
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'close')[39m
[36m [2mâ¯[22m tests/e2e/health.e2e.test.ts:[2m33:12[22m[39m
    [90m 31| [39m
    [90m 32| [39m  [34mafterAll[39m([35masync[39m () [33m=>[39m {
    [90m 33| [39m    server[33m.[39m[34mclose[39m()
    [90m   | [39m           [31m^[39m
    [90m 34| [39m    [35mawait[39m [34mdisconnectDb[39m()
    [90m 35| [39m  })

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/garden.routes.test.ts[2m > [22mGarden Routes Integration
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.careCompletion.deleteMany()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m Module.resetDb tests/helpers/reset-db.ts:[2m5:5[22m[39m
    [90m  3| [39m[35mexport[39m [35mconst[39m resetDb [33m=[39m [35masync[39m () [33m=>[39m {
    [90m  4| [39m  [35mtry[39m {
    [90m  5| [39m    [35mawait[39m prisma[33m.[39mcareCompletion[33m.[39m[34mdeleteMany[39m()
    [90m   | [39m    [31m^[39m
    [90m  6| [39m    [35mawait[39m prisma[33m.[39mcareSchedule[33m.[39m[34mdeleteMany[39m()
    [90m  7| [39m    [35mawait[39m prisma[33m.[39mdiagnosis[33m.[39m[34mdeleteMany[39m()
[90m [2mâ¯[22m tests/integration/garden.routes.test.ts:[2m24:5[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/nearby-gardens.test.ts[2m > [22mNearby Gardens Integration
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.careCompletion.deleteMany()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m Module.resetDb tests/helpers/reset-db.ts:[2m5:5[22m[39m
    [90m  3| [39m[35mexport[39m [35mconst[39m resetDb [33m=[39m [35masync[39m () [33m=>[39m {
    [90m  4| [39m  [35mtry[39m {
    [90m  5| [39m    [35mawait[39m prisma[33m.[39mcareCompletion[33m.[39m[34mdeleteMany[39m()
    [90m   | [39m    [31m^[39m
    [90m  6| [39m    [35mawait[39m prisma[33m.[39mcareSchedule[33m.[39m[34mdeleteMany[39m()
    [90m  7| [39m    [35mawait[39m prisma[33m.[39mdiagnosis[33m.[39m[34mdeleteMany[39m()
[90m [2mâ¯[22m tests/integration/nearby-gardens.test.ts:[2m20:5[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/plant.test.ts[2m > [22mPlant Integration Routes
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.careCompletion.deleteMany()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m Module.resetDb tests/helpers/reset-db.ts:[2m5:5[22m[39m
    [90m  3| [39m[35mexport[39m [35mconst[39m resetDb [33m=[39m [35masync[39m () [33m=>[39m {
    [90m  4| [39m  [35mtry[39m {
    [90m  5| [39m    [35mawait[39m prisma[33m.[39mcareCompletion[33m.[39m[34mdeleteMany[39m()
    [90m   | [39m    [31m^[39m
    [90m  6| [39m    [35mawait[39m prisma[33m.[39mcareSchedule[33m.[39m[34mdeleteMany[39m()
    [90m  7| [39m    [35mawait[39m prisma[33m.[39mdiagnosis[33m.[39m[34mdeleteMany[39m()
[90m [2mâ¯[22m tests/integration/plant.test.ts:[2m21:5[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/user-profile.test.ts[2m > [22mUser Public Profile Integration
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.careCompletion.deleteMany()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m Module.resetDb tests/helpers/reset-db.ts:[2m5:5[22m[39m
    [90m  3| [39m[35mexport[39m [35mconst[39m resetDb [33m=[39m [35masync[39m () [33m=>[39m {
    [90m  4| [39m  [35mtry[39m {
    [90m  5| [39m    [35mawait[39m prisma[33m.[39mcareCompletion[33m.[39m[34mdeleteMany[39m()
    [90m   | [39m    [31m^[39m
    [90m  6| [39m    [35mawait[39m prisma[33m.[39mcareSchedule[33m.[39m[34mdeleteMany[39m()
    [90m  7| [39m    [35mawait[39m prisma[33m.[39mdiagnosis[33m.[39m[34mdeleteMany[39m()
[90m [2mâ¯[22m tests/integration/user-profile.test.ts:[2m21:5[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[11/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/weather.test.ts[2m > [22mWeather Integration
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.careCompletion.deleteMany()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m Module.resetDb tests/helpers/reset-db.ts:[2m5:5[22m[39m
    [90m  3| [39m[35mexport[39m [35mconst[39m resetDb [33m=[39m [35masync[39m () [33m=>[39m {
    [90m  4| [39m  [35mtry[39m {
    [90m  5| [39m    [35mawait[39m prisma[33m.[39mcareCompletion[33m.[39m[34mdeleteMany[39m()
    [90m   | [39m    [31m^[39m
    [90m  6| [39m    [35mawait[39m prisma[33m.[39mcareSchedule[33m.[39m[34mdeleteMany[39m()
    [90m  7| [39m    [35mawait[39m prisma[33m.[39mdiagnosis[33m.[39m[34mdeleteMany[39m()
[90m [2mâ¯[22m tests/integration/weather.test.ts:[2m21:5[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[12/44]â¯[22m[39m


[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 32 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m tests/auth.test.ts[2m > [22mAuth Middleware Integration[2m > [22mshould allow access with valid token and sync user to DB
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.findUnique()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m tests/auth.test.ts:[2m64:22[22m[39m
    [90m 62| [39m
    [90m 63| [39m    [90m// Ensure DB is empty for this user[39m
    [90m 64| [39m    const existing = await prisma.user.findUnique({ where: { email: usâ€¦
    [90m   | [39m                     [31m^[39m
    [90m 65| [39m    [34mexpect[39m(existing)[33m.[39m[34mtoBeNull[39m()
    [90m 66| [39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[13/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/dr-plant.test.ts[2m > [22mDr. Plant Integration[2m > [22mshould diagnose a plant successfully from image
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2mâ¯[22m tests/integration/dr-plant.test.ts:[2m66:24[22m[39m
    [90m 64| [39m    })
    [90m 65| [39m
    [90m 66| [39m    [34mexpect[39m(res[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)
    [90m   | [39m                       [31m^[39m
    [90m 67| [39m    [35mconst[39m json [33m=[39m [35mawait[39m res[33m.[39m[34mjson[39m()
    [90m 68| [39m    [34mexpect[39m(json[33m.[39mdata)[33m.[39m[34mtoEqual[39m(expect[33m.[39m[34mobjectContaining[39m(mockDiagnosis))

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[14/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/dr-plant.test.ts[2m > [22mDr. Plant Integration[2m > [22mshould return 400 if image is missing
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2mâ¯[22m tests/integration/dr-plant.test.ts:[2m83:24[22m[39m
    [90m 81| [39m    })
    [90m 82| [39m
    [90m 83| [39m    [34mexpect[39m(res[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)
    [90m   | [39m                       [31m^[39m
    [90m 84| [39m    [35mconst[39m json [33m=[39m [35mawait[39m res[33m.[39m[34mjson[39m()
    [90m 85| [39m    [34mexpect[39m(json[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'VALIDATION_ERROR'[39m)

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[15/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/dr-plant.test.ts[2m > [22mDr. Plant Integration[2m > [22mshould return 400 if file type is invalid
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2mâ¯[22m tests/integration/dr-plant.test.ts:[2m100:24[22m[39m
    [90m 98| [39m    })
    [90m 99| [39m
    [90m100| [39m    [34mexpect[39m(res[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)
    [90m   | [39m                       [31m^[39m
    [90m101| [39m    [35mconst[39m json [33m=[39m [35mawait[39m res[33m.[39m[34mjson[39m()
    [90m102| [39m    [34mexpect[39m(json[33m.[39mmessage)[33m.[39m[34mtoContain[39m([32m'Invalid image type'[39m)

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[16/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/dr-plant.test.ts[2m > [22mDr. Plant Integration[2m > [22mshould handle AI service errors gracefully
[31m[1mAssertionError[22m: expected 'Authentication service error: \nInvalâ€¦' to be 'AI Model Overloaded' // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- A[7mI Model Overloaded[27m[39m
[31m+ A[7muthentication service error: [27m[39m
[31m+ Invalid `prisma.user.findUnique()` invocation:[39m
[31m+[39m
[31m+[39m
[31m+[39m

[36m [2mâ¯[22m tests/integration/dr-plant.test.ts:[2m126:26[22m[39m
    [90m124| [39m    [35mconst[39m json [33m=[39m [35mawait[39m res[33m.[39m[34mjson[39m()
    [90m125| [39m    [34mexpect[39m(json[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'INTERNAL_ERROR'[39m)
    [90m126| [39m    [34mexpect[39m(json[33m.[39mmessage)[33m.[39m[34mtoBe[39m([32m'AI Model Overloaded'[39m)
    [90m   | [39m                         [31m^[39m
    [90m127| [39m  })
    [90m128| [39m})

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[17/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/garden-prisma.repository.test.ts[2m > [22mGardenPrismaRepository[2m > [22mshould create and find a garden
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupUser tests/repositories/garden-prisma.repository.test.ts:[2m15:12[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupUser [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mreturn[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m           [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email: `garden-repo-${seed}-${crypto.randomUUID()}@example.comâ€¦
[90m [2mâ¯[22m tests/repositories/garden-prisma.repository.test.ts:[2m26:18[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[18/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/garden-prisma.repository.test.ts[2m > [22mGardenPrismaRepository[2m > [22mshould find gardens by user ID
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupUser tests/repositories/garden-prisma.repository.test.ts:[2m15:12[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupUser [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mreturn[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m           [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email: `garden-repo-${seed}-${crypto.randomUUID()}@example.comâ€¦
[90m [2mâ¯[22m tests/repositories/garden-prisma.repository.test.ts:[2m49:18[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[19/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/garden-prisma.repository.test.ts[2m > [22mGardenPrismaRepository[2m > [22mshould update a garden
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupUser tests/repositories/garden-prisma.repository.test.ts:[2m15:12[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupUser [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mreturn[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m           [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email: `garden-repo-${seed}-${crypto.randomUUID()}@example.comâ€¦
[90m [2mâ¯[22m tests/repositories/garden-prisma.repository.test.ts:[2m58:18[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[20/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/garden-prisma.repository.test.ts[2m > [22mGardenPrismaRepository[2m > [22mshould delete a garden
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupUser tests/repositories/garden-prisma.repository.test.ts:[2m15:12[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupUser [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mreturn[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m           [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email: `garden-repo-${seed}-${crypto.randomUUID()}@example.comâ€¦
[90m [2mâ¯[22m tests/repositories/garden-prisma.repository.test.ts:[2m70:18[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[21/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/garden-prisma.repository.test.ts[2m > [22mGardenPrismaRepository[2m > [22mshould find by user and name
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupUser tests/repositories/garden-prisma.repository.test.ts:[2m15:12[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupUser [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mreturn[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m           [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email: `garden-repo-${seed}-${crypto.randomUUID()}@example.comâ€¦
[90m [2mâ¯[22m tests/repositories/garden-prisma.repository.test.ts:[2m83:18[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[22/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/garden-prisma.repository.test.ts[2m > [22mGardenPrismaRepository[2m > [22mshould find all with pagination
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupUser tests/repositories/garden-prisma.repository.test.ts:[2m15:12[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupUser [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mreturn[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m           [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email: `garden-repo-${seed}-${crypto.randomUUID()}@example.comâ€¦
[90m [2mâ¯[22m tests/repositories/garden-prisma.repository.test.ts:[2m96:18[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[23/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/garden-prisma.repository.test.ts[2m > [22mGardenPrismaRepository[2m > [22mshould find nearby gardens
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupUser tests/repositories/garden-prisma.repository.test.ts:[2m15:12[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupUser [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mreturn[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m           [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email: `garden-repo-${seed}-${crypto.randomUUID()}@example.comâ€¦
[90m [2mâ¯[22m tests/repositories/garden-prisma.repository.test.ts:[2m115:18[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[24/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/plant-prisma.repository.test.ts[2m > [22mPlantPrismaRepository[2m > [22mshould create and find a plant
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupBaseData tests/repositories/plant-prisma.repository.test.ts:[2m15:18[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupBaseData [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email[33m:[39m [32m`plant-repo-[39m[36m${[39mseed[36m}[39m[32m-[39m[36m${[39mcrypto[33m.[39m[34mrandomUUID[39m()[36m}[39m[32m@example.com`[39m[33m,[39m
[90m [2mâ¯[22m tests/repositories/plant-prisma.repository.test.ts:[2m40:24[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[25/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/plant-prisma.repository.test.ts[2m > [22mPlantPrismaRepository[2m > [22mshould find plants by garden ID
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupBaseData tests/repositories/plant-prisma.repository.test.ts:[2m15:18[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupBaseData [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email[33m:[39m [32m`plant-repo-[39m[36m${[39mseed[36m}[39m[32m-[39m[36m${[39mcrypto[33m.[39m[34mrandomUUID[39m()[36m}[39m[32m@example.com`[39m[33m,[39m
[90m [2mâ¯[22m tests/repositories/plant-prisma.repository.test.ts:[2m55:24[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[26/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/plant-prisma.repository.test.ts[2m > [22mPlantPrismaRepository[2m > [22mshould find plants by user ID
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupBaseData tests/repositories/plant-prisma.repository.test.ts:[2m15:18[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupBaseData [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email[33m:[39m [32m`plant-repo-[39m[36m${[39mseed[36m}[39m[32m-[39m[36m${[39mcrypto[33m.[39m[34mrandomUUID[39m()[36m}[39m[32m@example.com`[39m[33m,[39m
[90m [2mâ¯[22m tests/repositories/plant-prisma.repository.test.ts:[2m64:30[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[27/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/plant-prisma.repository.test.ts[2m > [22mPlantPrismaRepository[2m > [22mshould update a plant
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupBaseData tests/repositories/plant-prisma.repository.test.ts:[2m15:18[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupBaseData [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email[33m:[39m [32m`plant-repo-[39m[36m${[39mseed[36m}[39m[32m-[39m[36m${[39mcrypto[33m.[39m[34mrandomUUID[39m()[36m}[39m[32m@example.com`[39m[33m,[39m
[90m [2mâ¯[22m tests/repositories/plant-prisma.repository.test.ts:[2m73:24[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[28/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/plant-prisma.repository.test.ts[2m > [22mPlantPrismaRepository[2m > [22mshould delete a plant
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupBaseData tests/repositories/plant-prisma.repository.test.ts:[2m15:18[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupBaseData [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email[33m:[39m [32m`plant-repo-[39m[36m${[39mseed[36m}[39m[32m-[39m[36m${[39mcrypto[33m.[39m[34mrandomUUID[39m()[36m}[39m[32m@example.com`[39m[33m,[39m
[90m [2mâ¯[22m tests/repositories/plant-prisma.repository.test.ts:[2m81:24[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[29/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/plant-prisma.repository.test.ts[2m > [22mPlantPrismaRepository[2m > [22mshould delete plants by garden ID
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupBaseData tests/repositories/plant-prisma.repository.test.ts:[2m15:18[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupBaseData [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email[33m:[39m [32m`plant-repo-[39m[36m${[39mseed[36m}[39m[32m-[39m[36m${[39mcrypto[33m.[39m[34mrandomUUID[39m()[36m}[39m[32m@example.com`[39m[33m,[39m
[90m [2mâ¯[22m tests/repositories/plant-prisma.repository.test.ts:[2m90:24[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[30/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/plant-prisma.repository.test.ts[2m > [22mPlantPrismaRepository[2m > [22mshould find all with pagination and filters
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupBaseData tests/repositories/plant-prisma.repository.test.ts:[2m15:18[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupBaseData [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email[33m:[39m [32m`plant-repo-[39m[36m${[39mseed[36m}[39m[32m-[39m[36m${[39mcrypto[33m.[39m[34mrandomUUID[39m()[36m}[39m[32m@example.com`[39m[33m,[39m
[90m [2mâ¯[22m tests/repositories/plant-prisma.repository.test.ts:[2m100:24[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[31/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/plant-prisma.repository.test.ts[2m > [22mPlantPrismaRepository[2m > [22mshould count by garden ID
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupBaseData tests/repositories/plant-prisma.repository.test.ts:[2m15:18[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupBaseData [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email[33m:[39m [32m`plant-repo-[39m[36m${[39mseed[36m}[39m[32m-[39m[36m${[39mcrypto[33m.[39m[34mrandomUUID[39m()[36m}[39m[32m@example.com`[39m[33m,[39m
[90m [2mâ¯[22m tests/repositories/plant-prisma.repository.test.ts:[2m122:24[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[32/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/plant-prisma.repository.test.ts[2m > [22mPlantPrismaRepository[2m > [22mshould aggregate by common name
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m setupBaseData tests/repositories/plant-prisma.repository.test.ts:[2m15:18[22m[39m
    [90m 13| [39m
    [90m 14| [39m  [35mconst[39m setupBaseData [33m=[39m [35masync[39m (seed[33m:[39m string) [33m=>[39m {
    [90m 15| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 16| [39m      data[33m:[39m {
    [90m 17| [39m        email[33m:[39m [32m`plant-repo-[39m[36m${[39mseed[36m}[39m[32m-[39m[36m${[39mcrypto[33m.[39m[34mrandomUUID[39m()[36m}[39m[32m@example.com`[39m[33m,[39m
[90m [2mâ¯[22m tests/repositories/plant-prisma.repository.test.ts:[2m131:24[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[33/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/user-prisma.repository.test.ts[2m > [22mUserPrismaRepository[2m > [22mshould create and find a user by ID
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m UserPrismaRepository.create infrastructure/database/repositories/user.prisma-repository.ts:[2m11:18[22m[39m
    [90m  9| [39m[35mexport[39m [35mclass[39m [33mUserPrismaRepository[39m [35mimplements[39m [33mUserRepository[39m {
    [90m 10| [39m  [35masync[39m [34mcreate[39m(data[33m:[39m [33mCreateUserData[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {
    [90m 11| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 12| [39m      data[33m:[39m {
    [90m 13| [39m        email[33m:[39m data[33m.[39memail[33m,[39m
[90m [2mâ¯[22m setupUser tests/repositories/user-prisma.repository.test.ts:[2m14:12[22m[39m
[90m [2mâ¯[22m tests/repositories/user-prisma.repository.test.ts:[2m23:18[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[34/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/user-prisma.repository.test.ts[2m > [22mUserPrismaRepository[2m > [22mshould find a user by email
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m UserPrismaRepository.create infrastructure/database/repositories/user.prisma-repository.ts:[2m11:18[22m[39m
    [90m  9| [39m[35mexport[39m [35mclass[39m [33mUserPrismaRepository[39m [35mimplements[39m [33mUserRepository[39m {
    [90m 10| [39m  [35masync[39m [34mcreate[39m(data[33m:[39m [33mCreateUserData[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {
    [90m 11| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 12| [39m      data[33m:[39m {
    [90m 13| [39m        email[33m:[39m data[33m.[39memail[33m,[39m
[90m [2mâ¯[22m setupUser tests/repositories/user-prisma.repository.test.ts:[2m14:12[22m[39m
[90m [2mâ¯[22m tests/repositories/user-prisma.repository.test.ts:[2m32:18[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[35/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/user-prisma.repository.test.ts[2m > [22mUserPrismaRepository[2m > [22mshould find a user with password by ID
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m UserPrismaRepository.create infrastructure/database/repositories/user.prisma-repository.ts:[2m11:18[22m[39m
    [90m  9| [39m[35mexport[39m [35mclass[39m [33mUserPrismaRepository[39m [35mimplements[39m [33mUserRepository[39m {
    [90m 10| [39m  [35masync[39m [34mcreate[39m(data[33m:[39m [33mCreateUserData[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {
    [90m 11| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 12| [39m      data[33m:[39m {
    [90m 13| [39m        email[33m:[39m data[33m.[39memail[33m,[39m
[90m [2mâ¯[22m setupUser tests/repositories/user-prisma.repository.test.ts:[2m14:12[22m[39m
[90m [2mâ¯[22m tests/repositories/user-prisma.repository.test.ts:[2m39:18[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[36/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/user-prisma.repository.test.ts[2m > [22mUserPrismaRepository[2m > [22mshould find a user with password by email
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m UserPrismaRepository.create infrastructure/database/repositories/user.prisma-repository.ts:[2m11:18[22m[39m
    [90m  9| [39m[35mexport[39m [35mclass[39m [33mUserPrismaRepository[39m [35mimplements[39m [33mUserRepository[39m {
    [90m 10| [39m  [35masync[39m [34mcreate[39m(data[33m:[39m [33mCreateUserData[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {
    [90m 11| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 12| [39m      data[33m:[39m {
    [90m 13| [39m        email[33m:[39m data[33m.[39memail[33m,[39m
[90m [2mâ¯[22m setupUser tests/repositories/user-prisma.repository.test.ts:[2m14:12[22m[39m
[90m [2mâ¯[22m tests/repositories/user-prisma.repository.test.ts:[2m46:18[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[37/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/user-prisma.repository.test.ts[2m > [22mUserPrismaRepository[2m > [22mshould create and find a user
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m UserPrismaRepository.create infrastructure/database/repositories/user.prisma-repository.ts:[2m11:18[22m[39m
    [90m  9| [39m[35mexport[39m [35mclass[39m [33mUserPrismaRepository[39m [35mimplements[39m [33mUserRepository[39m {
    [90m 10| [39m  [35masync[39m [34mcreate[39m(data[33m:[39m [33mCreateUserData[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {
    [90m 11| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 12| [39m      data[33m:[39m {
    [90m 13| [39m        email[33m:[39m data[33m.[39memail[33m,[39m
[90m [2mâ¯[22m tests/repositories/user-prisma.repository.test.ts:[2m61:21[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[38/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/user-prisma.repository.test.ts[2m > [22mUserPrismaRepository[2m > [22mshould find by email
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m UserPrismaRepository.create infrastructure/database/repositories/user.prisma-repository.ts:[2m11:18[22m[39m
    [90m  9| [39m[35mexport[39m [35mclass[39m [33mUserPrismaRepository[39m [35mimplements[39m [33mUserRepository[39m {
    [90m 10| [39m  [35masync[39m [34mcreate[39m(data[33m:[39m [33mCreateUserData[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {
    [90m 11| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 12| [39m      data[33m:[39m {
    [90m 13| [39m        email[33m:[39m data[33m.[39memail[33m,[39m
[90m [2mâ¯[22m tests/repositories/user-prisma.repository.test.ts:[2m73:5[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/user-prisma.repository.test.ts[2m > [22mUserPrismaRepository[2m > [22mshould update a user
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m UserPrismaRepository.create infrastructure/database/repositories/user.prisma-repository.ts:[2m11:18[22m[39m
    [90m  9| [39m[35mexport[39m [35mclass[39m [33mUserPrismaRepository[39m [35mimplements[39m [33mUserRepository[39m {
    [90m 10| [39m  [35masync[39m [34mcreate[39m(data[33m:[39m [33mCreateUserData[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {
    [90m 11| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 12| [39m      data[33m:[39m {
    [90m 13| [39m        email[33m:[39m data[33m.[39memail[33m,[39m
[90m [2mâ¯[22m tests/repositories/user-prisma.repository.test.ts:[2m82:21[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[40/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/user-prisma.repository.test.ts[2m > [22mUserPrismaRepository[2m > [22mshould delete a user
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m UserPrismaRepository.create infrastructure/database/repositories/user.prisma-repository.ts:[2m11:18[22m[39m
    [90m  9| [39m[35mexport[39m [35mclass[39m [33mUserPrismaRepository[39m [35mimplements[39m [33mUserRepository[39m {
    [90m 10| [39m  [35masync[39m [34mcreate[39m(data[33m:[39m [33mCreateUserData[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {
    [90m 11| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 12| [39m      data[33m:[39m {
    [90m 13| [39m        email[33m:[39m data[33m.[39memail[33m,[39m
[90m [2mâ¯[22m tests/repositories/user-prisma.repository.test.ts:[2m97:21[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[41/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/user-prisma.repository.test.ts[2m > [22mUserPrismaRepository[2m > [22mshould check if user exists by email
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m UserPrismaRepository.create infrastructure/database/repositories/user.prisma-repository.ts:[2m11:18[22m[39m
    [90m  9| [39m[35mexport[39m [35mclass[39m [33mUserPrismaRepository[39m [35mimplements[39m [33mUserRepository[39m {
    [90m 10| [39m  [35masync[39m [34mcreate[39m(data[33m:[39m [33mCreateUserData[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {
    [90m 11| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 12| [39m      data[33m:[39m {
    [90m 13| [39m        email[33m:[39m data[33m.[39memail[33m,[39m
[90m [2mâ¯[22m setupUser tests/repositories/user-prisma.repository.test.ts:[2m14:12[22m[39m
[90m [2mâ¯[22m tests/repositories/user-prisma.repository.test.ts:[2m109:18[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[42/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/user-prisma.repository.test.ts[2m > [22mUserPrismaRepository[2m > [22mshould find all with pagination
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.create()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m UserPrismaRepository.create infrastructure/database/repositories/user.prisma-repository.ts:[2m11:18[22m[39m
    [90m  9| [39m[35mexport[39m [35mclass[39m [33mUserPrismaRepository[39m [35mimplements[39m [33mUserRepository[39m {
    [90m 10| [39m  [35masync[39m [34mcreate[39m(data[33m:[39m [33mCreateUserData[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {
    [90m 11| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mcreate[39m({
    [90m   | [39m                 [31m^[39m
    [90m 12| [39m      data[33m:[39m {
    [90m 13| [39m        email[33m:[39m data[33m.[39memail[33m,[39m
[90m [2mâ¯[22m tests/repositories/user-prisma.repository.test.ts:[2m120:7[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[43/44]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/repositories/user-prisma.repository.test.ts[2m > [22mUserPrismaRepository[2m > [22mshould return null for non-existent users
[31m[1mPrismaClientKnownRequestError[22m:
Invalid `prisma.user.findUnique()` invocation:


[39m
[90m [2mâ¯[22m qr.handleRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:8172[22m[39m
[90m [2mâ¯[22m qr.handleAndLogRequestError node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7467[22m[39m
[90m [2mâ¯[22m qr.request node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m65:7174[22m[39m
[90m [2mâ¯[22m a node_modules/.pnpm/@prisma+client@7.2.0_prisma@7.2.0_@types+react@19.2.7_react-dom@19.2.3_react@19.2.3__re_f75d495222e5a9a082c60aa675bb2498/node_modules/@prisma/client/runtime/client.js:[2m75:5816[22m[39m
[36m [2mâ¯[22m UserPrismaRepository.findById infrastructure/database/repositories/user.prisma-repository.ts:[2m31:18[22m[39m
    [90m 29| [39m
    [90m 30| [39m  [35masync[39m [34mfindById[39m(id[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m [33m|[39m [35mnull[39m[33m>[39m {
    [90m 31| [39m    [35mconst[39m user [33m=[39m [35mawait[39m prisma[33m.[39muser[33m.[39m[34mfindUnique[39m({
    [90m   | [39m                 [31m^[39m
    [90m 32| [39m      where[33m:[39m { id }[33m,[39m
    [90m 33| [39m    })
[90m [2mâ¯[22m tests/repositories/user-prisma.repository.test.ts:[2m134:12[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[44/44]â¯[22m[39m


[2m Test Files [22m [1m[31m14 failed[39m[22m[2m | [22m[1m[32m37 passed[39m[22m[90m (51)[39m
[2m      Tests [22m [1m[31m32 failed[39m[22m[2m | [22m[1m[32m237 passed[39m[22m[2m | [22m[33m36 skipped[39m[90m (305)[39m
[2m   Start at [22m 22:04:41
[2m   Duration [22m 19.66s[2m (transform 1.09s, setup 1.15s, import 6.74s, tests 2.64s, environment 10ms)[22m

â€‰ELIFECYCLEâ€‰ Test failed. See above for more details.
